<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>双人行程同页规划</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#EC4899',
                        neutral: '#F3F4F6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .行程-card {
                @apply bg-white rounded-lg shadow-md p-3 mb-2 hover:shadow-lg transition-shadow duration-200;
            }
            .input-group {
                @apply mb-3;
            }
            .btn {
                @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
            }
            .btn-primary {
                @apply bg-primary text-white hover:bg-primary/90;
            }
            .btn-secondary {
                @apply bg-secondary text-white hover:bg-secondary/90;
            }
            .btn-danger {
                @apply bg-red-500 text-white hover:bg-red-600;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- 标题区域 -->
        <header class="text-center mb-8">
            <h1 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold text-gray-800 mb-2">双人行程同页规划</h1>
            <p class="text-gray-600">添加两人行程，同页对比展示，按时间自动排序</p >
        </header>

        <!-- 行程输入区域 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
            <!-- 第一个人行程输入 -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center mb-4">
                    <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mr-3">
                        <i class="fa fa-user text-primary text-xl"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-800">行程人 A</h2>
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">行程名称</label>
                    <input type="text" id="planA-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="例如：上午9点参观博物馆">
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">日期</label>
                    <input type="date" id="planA-date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50">
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">时间</label>
                    <input type="time" id="planA-time" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50">
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">地点</label>
                    <input type="text" id="planA-location" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50" placeholder="例如：广州塔">
                </div>
                <button onclick="addPlan('A')" class="btn btn-primary w-full mt-2">
                    <i class="fa fa-plus mr-2"></i>添加行程
                </button>
            </div>

            <!-- 第二个人行程输入 -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="flex items-center mb-4">
                    <div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center mr-3">
                        <i class="fa fa-user text-secondary text-xl"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-gray-800">行程人 B</h2>
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">行程名称</label>
                    <input type="text" id="planB-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary/50" placeholder="例如：下午2点逛北京路">
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">日期</label>
                    <input type="date" id="planB-date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary/50">
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">时间</label>
                    <input type="time" id="planB-time" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary/50">
                </div>
                <div class="input-group">
                    <label class="block text-gray-700 mb-1 font-medium">地点</label>
                    <input type="text" id="planB-location" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary/50" placeholder="例如：天河城">
                </div>
                <button onclick="addPlan('B')" class="btn btn-secondary w-full mt-2">
                    <i class="fa fa-plus mr-2"></i>添加行程
                </button>
            </div>
        </div>

        <!-- 行程展示区域 -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fa fa-calendar-check-o text-primary mr-2"></i>双人行程对比展示
            </h2>
            <div class="flex justify-between items-center mb-4">
                <p class="text-gray-600" id="plan-count">当前共有 <span class="font-bold text-primary">0</span> 个行程</p >
                <button onclick="clearAllPlans()" class="btn btn-danger text-sm">
                    <i class="fa fa-trash mr-1"></i>清空所有行程
                </button>
            </div>
            <div id="plans-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- 行程人A的行程列表 -->
                <div>
                    <h3 class="text-lg font-medium text-primary mb-3 flex items-center">
                        <i class="fa fa-user mr-2"></i>行程人 A 的行程
                    </h3>
                    <div id="planA-list" class="space-y-2">
                        <div class="text-gray-500 text-center py-8 bg-neutral rounded-lg">
                            <i class="fa fa-calendar-o text-3xl mb-2 block"></i>
                            暂无行程，点击上方添加
                        </div>
                    </div>
                </div>
                <!-- 行程人B的行程列表 -->
                <div>
                    <h3 class="text-lg font-medium text-secondary mb-3 flex items-center">
                        <i class="fa fa-user mr-2"></i>行程人 B 的行程
                    </h3>
                    <div id="planB-list" class="space-y-2">
                        <div class="text-gray-500 text-center py-8 bg-neutral rounded-lg">
                            <i class="fa fa-calendar-o text-3xl mb-2 block"></i>
                            暂无行程，点击上方添加
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 页脚 -->
        <footer class="text-center text-gray-500 text-sm">
            <p>© 2025 双人行程规划工具 | 支持同页对比、时间排序、行程管理</p >
        </footer>
    </div>

    <script>
        // 存储行程数据
        let plans = {
            A: [],
            B: []
        };

        // 添加行程
        function addPlan(person) {
            const nameInput = document.getElementById(`plan${person}-name`);
            const dateInput = document.getElementById(`plan${person}-date`);
            const timeInput = document.getElementById(`plan${person}-time`);
            const locationInput = document.getElementById(`plan${person}-location`);

            // 验证输入
            if (!nameInput.value.trim() || !dateInput.value || !timeInput.value) {
                alert(`请填写行程人 ${person} 的行程名称、日期和时间`);
                return;
            }

            // 创建行程对象
            const plan = {
                id: Date.now(), // 唯一ID
                name: nameInput.value.trim(),
                date: dateInput.value,
                time: timeInput.value,
                location: locationInput.value.trim() || '未填写',
                person: person
            };

            // 添加到对应人员的行程列表
            plans[person].push(plan);
            // 按日期和时间排序
            plans[person].sort((a, b) => {
                if (a.date !== b.date) {
                    return a.date.localeCompare(b.date);
                }
                return a.time.localeCompare(b.time);
            });

            // 更新UI
            renderPlans(person);
            updatePlanCount();

            // 清空输入框
            nameInput.value = '';
            locationInput.value = '';
        }

        // 渲染行程列表
        function renderPlans(person) {
            const listContainer = document.getElementById(`plan${person}-list`);
            const personPlans = plans[person];

            // 清空列表
            listContainer.innerHTML = '';

            // 如果没有行程，显示空状态
            if (personPlans.length === 0) {
                listContainer.innerHTML = `
                    <div class="text-gray-500 text-center py-8 bg-neutral rounded-lg">
                        <i class="fa fa-calendar-o text-3xl mb-2 block"></i>
                        暂无行程，点击上方添加
                    </div>
                `;
                return;
            }

            // 渲染每个行程
            personPlans.forEach(plan => {
                const planCard = document.createElement('div');
                planCard.className = '行程-card border-l-4 ' + (person === 'A' ? 'border-primary' : 'border-secondary');
                planCard.innerHTML = `
                    <div class="flex justify-between items-start">
                        <h4 class="font-medium text-gray-800">${plan.name}</h4>
                        <button onclick="deletePlan('${person}', ${plan.id})" class="text-red-400 hover:text-red-500 transition-colors">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                    <div class="text-sm text-gray-600 mt-1">
                        <p><i class="fa fa-calendar mr-1"></i> ${formatDate(plan.date)}</p >
                        <p><i class="fa fa-clock-o mr-1"></i> ${plan.time}</p >
                        <p><i class="fa fa-map-marker mr-1"></i> ${plan.location}</p >
                    </div>
                `;
                listContainer.appendChild(planCard);
            });
        }

        // 删除行程
        function deletePlan(person, planId) {
            plans[person] = plans[person].filter(plan => plan.id !== planId);
            renderPlans(person);
            updatePlanCount();
        }

        // 清空所有行程
        function clearAllPlans() {
            if (confirm('确定要清空所有行程吗？此操作不可恢复')) {
                plans.A = [];
                plans.B = [];
                renderPlans('A');
                renderPlans('B');
                updatePlanCount();
            }
        }

        // 更新行程总数
        function updatePlanCount() {
            const totalCount = plans.A.length + plans.B.length;
            document.getElementById('plan-count').innerHTML = `当前共有 <span class="font-bold text-primary">${totalCount}</span> 个行程`;
        }

        // 格式化日期显示
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`;
        }

        // 初始化页面
        window.onload = function() {
            // 设置默认日期为今天
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('planA-date').value = today;
            document.getElementById('planB-date').value = today;

            // 初始化行程列表
            renderPlans('A');
            renderPlans('B');
        };
    </script>
</body>
</html>